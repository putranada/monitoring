<html>
<head>
	<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
</head>

<body data-select2-id="select2-data-38-sr4e">
<label> Provinsi </label>
        <select class="select2-data-array browser-default select2-hidden-accessible" 
        id="select2-provinsi" data-select2-id="select2-data-select2-provinsi" 
        tabindex="-1" aria-hidden="true"><option value="" 
        data-select2-id="select2-data-2-wryq">- Pilih Provinsi -</option>
        <option value="11" data-select2-id="select2-data-3-xpw3">ACEH</option>
        <option value="12" data-select2-id="select2-data-4-l2qt">SUMATERA UTARA</option>
        <option value="13" data-select2-id="select2-data-5-16yz">SUMATERA BARAT</option>
        <option value="14" data-select2-id="select2-data-6-ugqn">RIAU</option>
        <option value="15" data-select2-id="select2-data-7-1i0o">JAMBI</option>
        <option value="16" data-select2-id="select2-data-8-k76e">SUMATERA SELATAN</option>
        <option value="17" data-select2-id="select2-data-9-npb0">BENGKULU</option>
        <option value="18" data-select2-id="select2-data-10-yt6v">LAMPUNG</option>
        <option value="19" data-select2-id="select2-data-11-0l9o">KEPULAUAN BANGKA BELITUNG</option>
        <option value="21" data-select2-id="select2-data-12-9z61">KEPULAUAN RIAU</option>
        <option value="31" data-select2-id="select2-data-13-llaf">DKI JAKARTA</option>
        <option value="32" data-select2-id="select2-data-14-7in0">JAWA BARAT</option>
        <option value="33" data-select2-id="select2-data-15-0ngi">JAWA TENGAH</option>
        <option value="34" data-select2-id="select2-data-16-j1al">DAERAH ISTIMEWA YOGYAKARTA</option>
        <option value="35" data-select2-id="select2-data-17-8703">JAWA TIMUR</option>
        <option value="36" data-select2-id="select2-data-18-7vcq">BANTEN</option>
        <option value="51" data-select2-id="select2-data-19-iqh5">BALI</option>
        <option value="52" data-select2-id="select2-data-20-mcys">NUSA TENGGARA BARAT</option>
        <option value="53" data-select2-id="select2-data-21-qrjl">NUSA TENGGARA TIMUR</option>
        <option value="61" data-select2-id="select2-data-22-lzff">KALIMANTAN BARAT</option>
        <option value="62" data-select2-id="select2-data-23-1tfy">KALIMANTAN TENGAH</option>
        <option value="63" data-select2-id="select2-data-24-4wxt">KALIMANTAN SELATAN</option>
        <option value="64" data-select2-id="select2-data-25-328x">KALIMANTAN TIMUR</option>
        <option value="65" data-select2-id="select2-data-26-5407">KALIMANTAN UTARA</option>
        <option value="71" data-select2-id="select2-data-27-07hm">SULAWESI UTARA</option>
        <option value="72" data-select2-id="select2-data-28-cctq">SULAWESI TENGAH</option>
        <option value="73" data-select2-id="select2-data-29-2dum">SULAWESI SELATAN</option>
        <option value="74" data-select2-id="select2-data-30-zx4e">SULAWESI TENGGARA</option>
        <option value="75" data-select2-id="select2-data-31-s3jz">GORONTALO</option>
        <option value="76" data-select2-id="select2-data-32-t7hy">SULAWESI BARAT</option>
        <option value="81" data-select2-id="select2-data-33-fiuw">MALUKU</option>
        <option value="82" data-select2-id="select2-data-34-a3x3">MALUKU UTARA</option>
        <option value="91" data-select2-id="select2-data-35-vk4b">P A P U A</option>
        <option value="92" data-select2-id="select2-data-36-1bt8">PAPUA BARAT</option>
    </select><span class="select2 select2-container select2-container--default select2-container--below" 
    dir="ltr" data-select2-id="select2-data-1-fcvu" style="width: 100%;"><span class="selection">
        <span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true"
         aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-select2-provinsi-container" 
         aria-controls="select2-select2-provinsi-container"><span class="select2-selection__rendered" 
         id="select2-select2-provinsi-container" role="textbox" aria-readonly="true" title="ACEH">ACEH</span>
         <span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span>
         <span class="dropdown-wrapper" aria-hidden="true"></span></span>
        <br>
        <label> Kabupaten </label>
        <select class="select2-data-array browser-default select2-hidden-accessible" 
        id="select2-kabupaten" data-select2-id="select2-data-select2-kabupaten" 
        tabindex="-1" aria-hidden="true"><option value="" data-select2-id="select2-data-43-rg7d">- Pilih Kabupaten -</option>
        <option value="1101" data-select2-id="select2-data-44-nm19">KAB. ACEH SELATAN</option>
        <option value="1102" data-select2-id="select2-data-45-50g3">KAB. ACEH TENGGARA</option>
        <option value="1103" data-select2-id="select2-data-46-hlx6">KAB. ACEH TIMUR</option>
        <option value="1104" data-select2-id="select2-data-47-bdsg">KAB. ACEH TENGAH</option>
        <option value="1105" data-select2-id="select2-data-48-up6h">KAB. ACEH BARAT</option>
        <option value="1106" data-select2-id="select2-data-49-yjlh">KAB. ACEH BESAR</option>
        <option value="1107" data-select2-id="select2-data-50-85w0">KAB. PIDIE</option>
        <option value="1108" data-select2-id="select2-data-51-b7nn">KAB. ACEH UTARA</option>
        <option value="1109" data-select2-id="select2-data-52-t3cz">KAB. SIMEULUE</option>
        <option value="1110" data-select2-id="select2-data-53-ua2t">KAB. ACEH SINGKIL</option>
        <option value="1111" data-select2-id="select2-data-54-w5it">KAB. BIREUEN</option>
        <option value="1112" data-select2-id="select2-data-55-p14w">KAB. ACEH BARAT DAYA</option>
        <option value="1113" data-select2-id="select2-data-56-cy1k">KAB. GAYO LUES</option>
        <option value="1114" data-select2-id="select2-data-57-yfit">KAB. ACEH JAYA</option>
        <option value="1115" data-select2-id="select2-data-58-zfop">KAB. NAGAN RAYA</option>
        <option value="1116" data-select2-id="select2-data-59-vhd1">KAB. ACEH TAMIANG</option>
        <option value="1117" data-select2-id="select2-data-60-e0rs">KAB. BENER MERIAH</option>
        <option value="1118" data-select2-id="select2-data-61-v8c3">KAB. PIDIE JAYA</option>
        <option value="1171" data-select2-id="select2-data-62-lbsf">KOTA BANDA ACEH</option>
        <option value="1172" data-select2-id="select2-data-63-zwfd">KOTA SABANG</option>
        <option value="1173" data-select2-id="select2-data-64-asj1">KOTA LHOKSEUMAWE</option>
        <option value="1174" data-select2-id="select2-data-65-f3x2">KOTA LANGSA</option>
        <option value="1175" data-select2-id="select2-data-66-woe0">KOTA SUBULUSSALAM</option>
    </select><span class="select2 select2-container select2-container--default select2-container--below" 
    dir="ltr" data-select2-id="select2-data-42-mpg3" style="width: 100%;"><span class="selection">
        <span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" 
        aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-select2-kabupaten-container"
         aria-controls="select2-select2-kabupaten-container"><span class="select2-selection__rendered" 
         id="select2-select2-kabupaten-container" role="textbox" aria-readonly="true" title="KAB. ACEH SELATAN">KAB. ACEH SELATAN</span>
         <span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span>
         <span class="dropdown-wrapper" aria-hidden="true"></span></span>
        <br>
        <label> Kecamatan </label>
        <select class="select2-data-array browser-default select2-hidden-accessible" id="select2-kecamatan" 
        data-select2-id="select2-data-select2-kecamatan" tabindex="-1" aria-hidden="true"><option value="" 
        data-select2-id="select2-data-70-y5r2">- Pilih Kecamatan -</option><option value="110101" 
        data-select2-id="select2-data-71-qre7">Bakongan</option><option value="110102" data-select2-id="select2-data-72-brjr">Kluet Utara</option>
        <option value="110103" data-select2-id="select2-data-73-qwfu">Kluet Selatan</option><option value="110104" 
        data-select2-id="select2-data-74-jkom">Labuhan Haji</option><option value="110105" data-select2-id="select2-data-75-1c03">Meukek</option>
        <option value="110106" data-select2-id="select2-data-76-t8ay">Samadua</option><option value="110107" 
        data-select2-id="select2-data-77-ibnz">Sawang</option><option value="110108" data-select2-id="select2-data-78-gopn">Tapaktuan</option>
        <option value="110109" data-select2-id="select2-data-79-pccv">Trumon</option><option value="110110" 
        data-select2-id="select2-data-80-foct">Pasi Raja</option><option value="110111" 
        data-select2-id="select2-data-81-hbvy">Labuhan Haji Timur</option><option value="110112" 
        data-select2-id="select2-data-82-l3kj">Labuhan Haji Barat</option><option value="110113" 
        data-select2-id="select2-data-83-f4ou">Kluet Tengah</option><option value="110114" data-select2-id="select2-data-84-z5uq">Kluet Timur</option>
        <option value="110115" data-select2-id="select2-data-85-cnn8">Bakongan  Timur</option>
        <option value="110116" data-select2-id="select2-data-86-hnnl">Trumon Timur</option>
        <option value="110117" data-select2-id="select2-data-87-ty2z">Kota Bahagia</option>
        <option value="110118" data-select2-id="select2-data-88-btm7">Trumon Tengah</option></select>
        <span class="select2 select2-container select2-container--default select2-container--below" dir="ltr" 
        data-select2-id="select2-data-69-syfa" style="width: 100%;"><span class="selection">
            <span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false"
            tabindex="0" aria-disabled="false" aria-labelledby="select2-select2-kecamatan-container" 
            aria-controls="select2-select2-kecamatan-container"><span class="select2-selection__rendered" 
            id="select2-select2-kecamatan-container" role="textbox" aria-readonly="true" title="Kluet Selatan">Kluet Selatan</span>
            <span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span>
            <span class="dropdown-wrapper" aria-hidden="true"></span></span>
        <br>
        <label> Kelurahan </label>
        <select class="select2-data-array browser-default select2-hidden-accessible" id="select2-kelurahan" 
        data-select2-id="select2-data-select2-kelurahan" tabindex="-1" aria-hidden="true"><option value="" 
        data-select2-id="select2-data-92-6rjx">- Pilih Kelurahan -</option><option value="1101032001" 
        data-select2-id="select2-data-93-6skc">Suaq Bakung</option><option value="1101032002" 
        data-select2-id="select2-data-94-4oaf">Rantau Binuang</option><option value="1101032003" 
        data-select2-id="select2-data-95-23gn">Barat Daya</option><option value="1101032004" 
        data-select2-id="select2-data-96-lkb8">Sialang</option><option value="1101032005" 
        data-select2-id="select2-data-97-y7yi">Kapeh</option><option value="1101032006" 
        data-select2-id="select2-data-98-xmty">Pulo Ie</option><option value="1101032007" 
        data-select2-id="select2-data-99-285h">Kedai Runding</option><option value="1101032008" 
        data-select2-id="select2-data-100-zxeg">Kedai Kandang</option><option value="1101032009" 
        data-select2-id="select2-data-101-ku53">Gampong Luar</option><option value="1101032010" d
        ata-select2-id="select2-data-102-k18l">Ujung</option><option value="1101032011" 
        data-select2-id="select2-data-103-1c2v">Jua</option><option value="1101032012" data-select2-id="select2-data-104-nzmt">Pasi Meurapat</option>
        <option value="1101032013" data-select2-id="select2-data-105-2ghn">Ujung Pasir</option>
        <option value="1101032014" data-select2-id="select2-data-106-9hlp">Geulumbuk</option>
        <option value="1101032015" data-select2-id="select2-data-107-ttib">Pasie Lembang</option>
        <option value="1101032016" data-select2-id="select2-data-108-a87g">Ujung Padang</option>
        <option value="1101032017" data-select2-id="select2-data-109-p89e">Indra Damai</option>
    </select><span class="select2 select2-container select2-container--default select2-container--below select2-container--focus" 
    dir="ltr" data-select2-id="select2-data-91-30dk" style="width: 100%;"><span class="selection">
        <span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true"
         aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-select2-kelurahan-container" 
         aria-controls="select2-select2-kelurahan-container"><span class="select2-selection__rendered" id="select2-select2-kelurahan-container" 
         role="textbox" aria-readonly="true" title="Rantau Binuang">Rantau Binuang</span><span class="select2-selection__arrow" role="presentation">
            <b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
    
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" 
    crossorigin="anonymous"></script>
    
    <script>
        var urlProvinsi = "https://ibnux.github.io/data-indonesia/provinsi.json";
        var urlKabupaten = "https://ibnux.github.io/data-indonesia/kabupaten/";
        var urlKecamatan = "https://ibnux.github.io/data-indonesia/kecamatan/";
        var urlKelurahan = "https://ibnux.github.io/data-indonesia/kelurahan/";

        function clearOptions(id) {
            console.log("on clearOptions :" + id);

            //$('#' + id).val(null);
            $('#' + id).empty().trigger('change');
        }

        console.log('Load Provinsi...');
        $.getJSON(urlProvinsi, function (res) {

            res = $.map(res, function (obj) {
                obj.text = obj.nama
                return obj;
            });

            data = [{
                id: "",
                nama: "- Pilih Provinsi -",
                text: "- Pilih Provinsi -"
            }].concat(res);

            //implemen data ke select provinsi
            $("#select2-provinsi").select2({
                dropdownAutoWidth: true,
                width: '100%',
                data: data
            })
        });

        var selectProv = $('#select2-provinsi');
        $(selectProv).change(function () {
            var value = $(selectProv).val();
            clearOptions('select2-kabupaten');

            if (value) {
                console.log("on change selectProv");

                var text = $('#select2-provinsi :selected').text();
                console.log("value = " + value + " / " + "text = " + text);

                console.log('Load Kabupaten di '+text+'...')
                $.getJSON(urlKabupaten + value + ".json", function(res) {

                    res = $.map(res, function (obj) {
                        obj.text = obj.nama
                        return obj;
                    });

                    data = [{
                        id: "",
                        nama: "- Pilih Kabupaten -",
                        text: "- Pilih Kabupaten -"
                    }].concat(res);

                    //implemen data ke select provinsi
                    $("#select2-kabupaten").select2({
                        dropdownAutoWidth: true,
                        width: '100%',
                        data: data
                    })
                })
            }
        });

        var selectKab = $('#select2-kabupaten');
        $(selectKab).change(function () {
            var value = $(selectKab).val();
            clearOptions('select2-kecamatan');

            if (value) {
                console.log("on change selectKab");

                var text = $('#select2-kabupaten :selected').text();
                console.log("value = " + value + " / " + "text = " + text);

                console.log('Load Kecamatan di '+text+'...')
                $.getJSON(urlKecamatan + value + ".json", function(res) {

                    res = $.map(res, function (obj) {
                        obj.text = obj.nama
                        return obj;
                    });

                    data = [{
                        id: "",
                        nama: "- Pilih Kecamatan -",
                        text: "- Pilih Kecamatan -"
                    }].concat(res);

                    //implemen data ke select provinsi
                    $("#select2-kecamatan").select2({
                        dropdownAutoWidth: true,
                        width: '100%',
                        data: data
                    })
                })
            }
        });

        var selectKec = $('#select2-kecamatan');
        $(selectKec).change(function () {
            var value = $(selectKec).val();
            clearOptions('select2-kelurahan');

            if (value) {
                console.log("on change selectKec");

                var text = $('#select2-kecamatan :selected').text();
                console.log("value = " + value + " / " + "text = " + text);

                console.log('Load Kelurahan di '+text+'...')
                $.getJSON(urlKelurahan + value + ".json", function(res) {

                    res = $.map(res, function (obj) {
                        obj.text = obj.nama
                        return obj;
                    });

                    data = [{
                        id: "",
                        nama: "- Pilih Kelurahan -",
                        text: "- Pilih Kelurahan -"
                    }].concat(res);

                    //implemen data ke select provinsi
                    $("#select2-kelurahan").select2({
                        dropdownAutoWidth: true,
                        width: '100%',
                        data: data
                    })
                })
            }
        });

        var selectKel = $('#select2-kelurahan');
        $(selectKel).change(function () {
            var value = $(selectKel).val();

            if (value) {
                console.log("on change selectKel");

                var text = $('#select2-kelurahan :selected').text();
                console.log("value = " + value + " / " + "text = " + text);
            }
        });
    </script>
</body>
</html>